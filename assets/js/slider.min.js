var t,i,e,s,r,n,a,u,o,h,l,d,c,b,g,v,S,_=(e=(t=window)["r"+(i="equestAnimationFrame")]||t["webkitR"+i]||t["mozR"+i]||t["msR"+i]||function(t){setTimeout(t,1e3/60)},s=function(t,i){var s=(new Date).getTime(),r={};return r.value=e((function n(){(new Date).getTime()-s>=i?t.call():r.value=e(n)})),r},r=function(t,i){var e=Object.prototype.toString.call(i).slice(8,-1);return null!=i&&e===t},n=function(t){return Math.round(t)===t},a=function(t){t=t||{};for(var i=1;i<arguments.length;i++){var e=arguments[i];if(e)for(var s in e)e.hasOwnProperty(s)&&(r("Object",e[s])&&null!==e[s]?a(t[s],e[s]):t[s]=e[s])}return t},u=function(t,i){return!!i&&(t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className))},o=function(t,i){i&&(t.classList?t.classList.add(i):t.className+=" "+i)},h=function(t,i){i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))},l=function(t,i,e){null!=t&&(t.addEventListener?t.addEventListener(i,e,!1):t.attachEvent?t.attachEvent("on"+i,e):t["on"+i]=e)},d=function(t,i){if(!t.style.backgroundImage){var e=new Image;e.setAttribute("src",t.getAttribute("data-src")),e.onload=function(){t.style.backgroundImage="url("+t.getAttribute("data-src")+")",t.setAttribute("data-actual-width",this.naturalWidth),t.setAttribute("data-actual-height",this.naturalHeight),"function"==typeof i&&i(this)}}},c=function(t,i,e){t.style.webkitTransitionDuration=t.style.MozTransitionDuration=t.style.msTransitionDuration=t.style.OTransitionDuration=t.style.transitionDuration=e+"ms",t.style.webkitTransform=t.style.MozTransform=t.style.msTransform=t.style.OTransform="translateX("+i+"px)"},b=function(t){t.style.removeProperty("-webkit-transition-duration"),t.style.removeProperty("transition-duration"),t.style.removeProperty("-webkit-transform"),t.style.removeProperty("-ms-transform"),t.style.removeProperty("transform")},g=function(t,i){if(void 0===i&&(i=!0),!n(t.settings.height)){var s=Math.round(t._attributes.container.offsetHeight),r=s;if(t._attributes.aspectWidth&&t._attributes.aspectHeight)r=t._attributes.aspectHeight/t._attributes.aspectWidth*t._attributes.container.offsetWidth;else{var a=t._attributes.currentSlide.getAttribute("data-actual-width"),u=t._attributes.currentSlide.getAttribute("data-actual-height");a&&u&&(r=u/a*t._attributes.container.offsetWidth)}var o,h,l,d,c=parseInt(t.settings.maxHeight,10);c&&r>c&&(r=c),(r=Math.round(r))!==s&&(i?(o={time:t.settings.transitionDuration,run:function(i){t._attributes.container.style.height=Math.round(i*(r-s)+s)+"px"}},h=o.time,l=+new Date+h,(d=function(){var t=+new Date,i=l-t;if(i<60)o.run(1);else{var s=1-i/h;o.run(s),e(d)}})()):t._attributes.container.style.height=r+"px")}},v={vars:{start:{},delta:{},isScrolling:void 0,direction:null},start:function(t){if(!u(this._attributes.container,this.settings.classes.animating)){var i=t.touches[0];v.vars.start={x:i.pageX,y:i.pageY,time:+new Date},v.vars.delta={},v.vars.isScrolling=void 0,v.vars.direction=null,this.stop(),this.settings.beforeChange.apply(this),o(this._attributes.container,this.settings.classes.touching)}},move:function(t){if(!u(this._attributes.container,this.settings.classes.animating)&&!(t.touches.length>1||t.scale&&1!==t.scale)){var i=t.touches[0];v.vars.delta={x:i.pageX-v.vars.start.x,y:i.pageY-v.vars.start.y},void 0===v.vars.isScrolling&&(v.vars.isScrolling=!!(v.vars.isScrolling||Math.abs(v.vars.delta.x)<Math.abs(v.vars.delta.y))),v.vars.isScrolling||(t.preventDefault(),c(this._attributes.previousSlide,v.vars.delta.x-this._attributes.previousSlide.offsetWidth,0),c(this._attributes.currentSlide,v.vars.delta.x,0),c(this._attributes.nextSlide,v.vars.delta.x+this._attributes.currentSlide.offsetWidth,0))}},end:function(t){if(!u(this._attributes.container,this.settings.classes.animating)){var i=+new Date-v.vars.start.time,e=Number(i)<250&&Math.abs(v.vars.delta.x)>20||Math.abs(v.vars.delta.x)>this._attributes.currentSlide.offsetWidth/2,r=v.vars.delta.x<0?"next":"previous",n=this.settings.transitionDuration?this.settings.transitionDuration/2:0;v.vars.isScrolling||(e?(v.vars.direction=r,"next"==v.vars.direction?(c(this._attributes.currentSlide,-this._attributes.currentSlide.offsetWidth,n),c(this._attributes.nextSlide,0,n)):(c(this._attributes.previousSlide,0,n),c(this._attributes.currentSlide,this._attributes.currentSlide.offsetWidth,n)),s(v.transitionEnd.bind(this),n)):"next"==r?(c(this._attributes.currentSlide,0,n),c(this._attributes.nextSlide,this._attributes.currentSlide.offsetWidth,n)):(c(this._attributes.previousSlide,-this._attributes.previousSlide.offsetWidth,n),c(this._attributes.currentSlide,0,n)),n&&(o(this._attributes.container,this.settings.classes.animating),s(function(){h(this._attributes.container,this.settings.classes.animating)}.bind(this),n)))}},transitionEnd:function(t){if(v.vars.direction){b(this._attributes.previousSlide),b(this._attributes.currentSlide),b(this._attributes.nextSlide),h(this._attributes.container,this.settings.classes.touching),h(this._attributes.previousSlide,this.settings.classes.previousSlide),h(this._attributes.currentSlide,this.settings.classes.currentSlide),h(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true");var i=this._attributes.slides,e=i.indexOf(this._attributes.currentSlide);"next"==v.vars.direction?(this._attributes.previousSlide=this._attributes.currentSlide,this._attributes.currentSlide=i[e+1],this._attributes.nextSlide=i[e+2],void 0===this._attributes.currentSlide&&void 0===this._attributes.nextSlide?(this._attributes.currentSlide=i[0],this._attributes.nextSlide=i[1]):void 0===this._attributes.nextSlide&&(this._attributes.nextSlide=i[0]),d(this._attributes.nextSlide)):(this._attributes.nextSlide=this._attributes.currentSlide,this._attributes.previousSlide=i[e-2],this._attributes.currentSlide=i[e-1],void 0===this._attributes.currentSlide&&void 0===this._attributes.previousSlide?(this._attributes.currentSlide=i[i.length-1],this._attributes.previousSlide=i[i.length-2]):void 0===this._attributes.previousSlide&&(this._attributes.previousSlide=i[i.length-1]),d(this._attributes.previousSlide)),o(this._attributes.previousSlide,this.settings.classes.previousSlide),o(this._attributes.currentSlide,this.settings.classes.currentSlide),o(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),g(this),this.settings.afterChange.apply(this)}}},(S=function(t){this.settings={selector:"",height:"auto",initialHeight:400,maxHeight:null,interval:4e3,transitionDuration:700,effect:"slide",disableNav:!1,keyboardNav:!0,previousNavSelector:"",nextNavSelector:"",classes:{container:"ideal-image-slider",slide:"iis-slide",previousSlide:"iis-previous-slide",currentSlide:"iis-current-slide",nextSlide:"iis-next-slide",previousNav:"iis-previous-nav",nextNav:"iis-next-nav",animating:"iis-is-animating",touchEnabled:"iis-touch-enabled",touching:"iis-is-touching",directionPrevious:"iis-direction-previous",directionNext:"iis-direction-next"},onInit:function(){},onStart:function(){},onStop:function(){},onDestroy:function(){},beforeChange:function(){},afterChange:function(){}},"string"==typeof t?this.settings.selector=t:"object"==typeof t&&a(this.settings,t);var i=document.querySelector(this.settings.selector);if(!i)return null;var e,s=(e=i.children,Array.prototype.slice.call(e)),r=[];i.innerHTML="",Array.prototype.forEach.call(s,function(t,e){if(t instanceof HTMLImageElement||t instanceof HTMLAnchorElement){var s=document.createElement("a"),n="",u="";if(t instanceof HTMLAnchorElement){n=t.getAttribute("href"),u=t.getAttribute("target");var h=t.querySelector("img");if(null===h)return;t=h}void 0!==t.dataset?(a(s.dataset,t.dataset),t.dataset.src?s.dataset.src=t.dataset.src:s.dataset.src=t.src,(window.devicePixelRatio>1||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)").matches)&&t.dataset["src-2x"]&&(s.dataset.src=t.dataset["src-2x"])):t.getAttribute("data-src")?s.setAttribute("data-src",t.getAttribute("data-src")):s.setAttribute("data-src",t.getAttribute("src")),n&&s.setAttribute("href",n),u&&s.setAttribute("target",u),t.getAttribute("className")&&o(s,t.getAttribute("className")),t.getAttribute("id")&&s.setAttribute("id",t.getAttribute("id")),t.getAttribute("title")&&s.setAttribute("title",t.getAttribute("title")),t.getAttribute("alt")&&(s.innerHTML=t.getAttribute("alt")),s.setAttribute("role","tabpanel"),s.setAttribute("aria-hidden","true"),s.style.cssText+="-webkit-transition-duration:"+this.settings.transitionDuration+"ms;-moz-transition-duration:"+this.settings.transitionDuration+"ms;-o-transition-duration:"+this.settings.transitionDuration+"ms;transition-duration:"+this.settings.transitionDuration+"ms;",i.appendChild(s),r.push(s)}}.bind(this));var h,c,b=r;if(b.length<=1)return i.innerHTML="",Array.prototype.forEach.call(s,(function(t,e){i.appendChild(t)})),null;if(this.settings.disableNav||(this.settings.previousNavSelector?h=document.querySelector(this.settings.previousNavSelector):((h=document.createElement("a")).setAttribute("tabindex",0),i.appendChild(h)),this.settings.nextNavSelector?c=document.querySelector(this.settings.nextNavSelector):(c=document.createElement("a"),h.setAttribute("tabindex",0),i.appendChild(c)),o(h,this.settings.classes.previousNav),o(c,this.settings.classes.nextNav),l(h,"click",function(){if(u(this._attributes.container,this.settings.classes.animating))return!1;this.stop(),this.previousSlide()}.bind(this)),l(c,"click",function(){if(u(this._attributes.container,this.settings.classes.animating))return!1;this.stop(),this.nextSlide()}.bind(this)),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.settings.effect="slide",h.style.display="none",c.style.display="none",o(i,this.settings.classes.touchEnabled),l(i,"touchstart",v.start.bind(this)),l(i,"touchmove",v.move.bind(this)),l(i,"touchend",v.end.bind(this))),this.settings.keyboardNav&&l(document,"keyup",function(t){var i="number"==typeof(t=t||window.event).which?t.which:t.keyCode;if(37==i){if(u(this._attributes.container,this.settings.classes.animating))return!1;this.stop(),this.previousSlide()}else if(39==i){if(u(this._attributes.container,this.settings.classes.animating))return!1;this.stop(),this.nextSlide()}}.bind(this))),this._attributes={container:i,slides:b,previousSlide:void 0!==b[b.length-1]?b[b.length-1]:b[0],currentSlide:b[0],nextSlide:void 0!==b[1]?b[1]:b[0],timerId:0,origChildren:s,aspectWidth:0,aspectHeight:0},n(this.settings.height))this._attributes.container.style.height=this.settings.height+"px";else{if(n(this.settings.initialHeight)&&(this._attributes.container.style.height=this.settings.initialHeight+"px"),this.settings.height.indexOf(":")>-1){var S=this.settings.height.split(":");2==S.length&&n(parseInt(S[0],10))&&n(parseInt(S[1],10))&&(this._attributes.aspectWidth=parseInt(S[0],10),this._attributes.aspectHeight=parseInt(S[1],10))}l(window,"resize",function(){g(this,!1)}.bind(this))}o(i,this.settings.classes.container),o(i,"iis-effect-"+this.settings.effect),Array.prototype.forEach.call(this._attributes.slides,function(t,i){o(t,this.settings.classes.slide)}.bind(this)),o(this._attributes.previousSlide,this.settings.classes.previousSlide),o(this._attributes.currentSlide,this.settings.classes.currentSlide),o(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),d(this._attributes.currentSlide,function(){this.settings.onInit.apply(this),g(this,!1)}.bind(this)),d(this._attributes.previousSlide),d(this._attributes.nextSlide)}).prototype.get=function(t){return this._attributes?this._attributes.hasOwnProperty(t)?this._attributes[t]:void 0:null},S.prototype.set=function(t,i){return this._attributes?this._attributes[t]=i:null},S.prototype.start=function(){this._attributes&&(this._attributes.timerId=setInterval(this.nextSlide.bind(this),this.settings.interval),this.settings.onStart.apply(this),window.onblur=function(){this.stop()}.bind(this))},S.prototype.stop=function(){this._attributes&&(clearInterval(this._attributes.timerId),this._attributes.timerId=0,this.settings.onStop.apply(this))},S.prototype.previousSlide=function(){this.settings.beforeChange.apply(this),h(this._attributes.previousSlide,this.settings.classes.previousSlide),h(this._attributes.currentSlide,this.settings.classes.currentSlide),h(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,i=t.indexOf(this._attributes.currentSlide);this._attributes.nextSlide=this._attributes.currentSlide,this._attributes.previousSlide=t[i-2],this._attributes.currentSlide=t[i-1],void 0===this._attributes.currentSlide&&void 0===this._attributes.previousSlide?(this._attributes.currentSlide=t[t.length-1],this._attributes.previousSlide=t[t.length-2]):void 0===this._attributes.previousSlide&&(this._attributes.previousSlide=t[t.length-1]),d(this._attributes.previousSlide),o(this._attributes.previousSlide,this.settings.classes.previousSlide),o(this._attributes.currentSlide,this.settings.classes.currentSlide),o(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),o(this._attributes.container,this.settings.classes.directionPrevious),s(function(){h(this._attributes.container,this.settings.classes.directionPrevious)}.bind(this),this.settings.transitionDuration),this.settings.transitionDuration&&(o(this._attributes.container,this.settings.classes.animating),s(function(){h(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),g(this),this.settings.afterChange.apply(this)},S.prototype.nextSlide=function(){this.settings.beforeChange.apply(this),h(this._attributes.previousSlide,this.settings.classes.previousSlide),h(this._attributes.currentSlide,this.settings.classes.currentSlide),h(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true");var t=this._attributes.slides,i=t.indexOf(this._attributes.currentSlide);this._attributes.previousSlide=this._attributes.currentSlide,this._attributes.currentSlide=t[i+1],this._attributes.nextSlide=t[i+2],void 0===this._attributes.currentSlide&&void 0===this._attributes.nextSlide?(this._attributes.currentSlide=t[0],this._attributes.nextSlide=t[1]):void 0===this._attributes.nextSlide&&(this._attributes.nextSlide=t[0]),d(this._attributes.nextSlide),o(this._attributes.previousSlide,this.settings.classes.previousSlide),o(this._attributes.currentSlide,this.settings.classes.currentSlide),o(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),o(this._attributes.container,this.settings.classes.directionNext),s(function(){h(this._attributes.container,this.settings.classes.directionNext)}.bind(this),this.settings.transitionDuration),this.settings.transitionDuration&&(o(this._attributes.container,this.settings.classes.animating),s(function(){h(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),g(this),this.settings.afterChange.apply(this)},S.prototype.gotoSlide=function(t){this.settings.beforeChange.apply(this),this.stop(),h(this._attributes.previousSlide,this.settings.classes.previousSlide),h(this._attributes.currentSlide,this.settings.classes.currentSlide),h(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","true"),t--;var i=this._attributes.slides,e=i.indexOf(this._attributes.currentSlide);this._attributes.previousSlide=i[t-1],this._attributes.currentSlide=i[t],this._attributes.nextSlide=i[t+1],void 0===this._attributes.previousSlide&&(this._attributes.previousSlide=i[i.length-1]),void 0===this._attributes.nextSlide&&(this._attributes.nextSlide=i[0]),d(this._attributes.previousSlide),d(this._attributes.currentSlide),d(this._attributes.nextSlide),o(this._attributes.previousSlide,this.settings.classes.previousSlide),o(this._attributes.currentSlide,this.settings.classes.currentSlide),o(this._attributes.nextSlide,this.settings.classes.nextSlide),this._attributes.currentSlide.setAttribute("aria-hidden","false"),t<e?(o(this._attributes.container,this.settings.classes.directionPrevious),s(function(){h(this._attributes.container,this.settings.classes.directionPrevious)}.bind(this),this.settings.transitionDuration)):(o(this._attributes.container,this.settings.classes.directionNext),s(function(){h(this._attributes.container,this.settings.classes.directionNext)}.bind(this),this.settings.transitionDuration)),this.settings.transitionDuration&&(o(this._attributes.container,this.settings.classes.animating),s(function(){h(this._attributes.container,this.settings.classes.animating)}.bind(this),this.settings.transitionDuration)),g(this),this.settings.afterChange.apply(this)},S.prototype.destroy=function(){clearInterval(this._attributes.timerId),this._attributes.timerId=0,this._attributes.container.innerHTML="",Array.prototype.forEach.call(this._attributes.origChildren,function(t,i){this._attributes.container.appendChild(t)}.bind(this)),h(this._attributes.container,this.settings.classes.container),h(this._attributes.container,"iis-effect-"+this.settings.effect),this._attributes.container.style.height="",this.settings.onDestroy.apply(this)},{_hasClass:u,_addClass:o,_removeClass:h,Slider:S});class p extends HTMLElement{constructor(){super()}connectedCallback(){this.slider=new _.Slider({selector:"#"+this.id,height:"16:9",initialHeight:500,maxHeight:null,interval:3500,transitionDuration:700,effect:"slide",disableNav:!1,keyboardNav:!0,classes:{container:"ideal-image-slider",slide:"iis-slide",previousSlide:"iis-previous-slide",currentSlide:"iis-current-slide",nextSlide:"iis-next-slide",previousNav:"iis-previous-nav",nextNav:"iis-next-nav",animating:"iis-is-animating",touchEnabled:"iis-touch-enabled",touching:"iis-is-touching",directionPrevious:"iis-direction-previous",directionNext:"iis-direction-next"}}),this.slider.start()}}customElements.define("custom-slider",p);
